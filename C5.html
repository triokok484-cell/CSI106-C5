<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√în T·∫≠p Ho√†n Ch·ªânh: Computer Organization</title>
    
    <style>
        :root {
            --primary-color: #0d6efd;
            --success-color: #198754;
            --danger-color: #dc3545;
            --warning-color: #fd7e14;
            --light-bg-color: #f8f9fa;
            --border-color: #dee2e6;
            --text-color: #212529;
            --green-bg: #d1e7dd;
            --red-bg: #f8d7da;
            --yellow-bg: #fff3cd;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        #app-container {
            background-color: white;
            padding: 1.5em 2em;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
            position: relative;
        }

        h1 { color: #0056b3; text-align: center; margin-top: 20px; margin-bottom: 25px; }
        .hidden { display: none; }
        
        #translate-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 8px 12px;
            font-size: 14px;
            background-color: var(--success-color);
        }
        
        .tab-buttons {
            display: flex;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 1.5em;
        }
        .tab-link {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background-color: transparent;
            font-size: 1.1em;
            font-weight: 600;
            color: #6c757d;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        .tab-link.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .tab-content { text-align: left; }
        #theory h3 {
            font-size: 1.3em;
            color: #333;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 5px;
            margin-top: 25px;
        }
        #theory ul { padding-left: 20px; list-style-type: disc; }
        #theory li { margin-bottom: 10px; line-height: 1.6; }
        span.highlight {
            background-color: var(--yellow-bg);
            padding: 2px 4px;
            border-radius: 4px;
        }
        .highlight-box {
            background-color: #e7f3ff;
            border-left: 5px solid var(--primary-color);
            padding: 20px;
            margin-top: 30px;
            border-radius: 8px;
        }
        .highlight-box h3 { border: none; margin-top: 0; color: #0056b3; }
        .highlight-box ul { list-style-type: '‚úî '; padding-left: 20px;}

        #practice { text-align: center; }
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            margin: 5px;
            transition: background-color 0.3s ease, transform 0.1s ease;
        }
        button:hover { opacity: 0.9; }
        button:active { transform: scale(0.98); }
        button:disabled { background-color: #cccccc; cursor: not-allowed; }

        #custom-question-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }
        #question-count-input { padding: 12px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 16px; width: 100px; text-align: center; }
        #question-count-input:focus { outline: none; border-color: var(--primary-color); }
        #quiz-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #ddd; }
        #question-text { font-size: 1.25em; font-weight: bold; margin-bottom: 25px; line-height: 1.4; text-align: left; }
        .option { display: block; background-color: var(--light-bg-color); border: 2px solid var(--border-color); padding: 15px; margin-bottom: 12px; border-radius: 8px; cursor: pointer; transition: all 0.2s ease-in-out; text-align: left; }
        .option:hover { border-color: var(--primary-color); }
        .option.correct { background-color: var(--green-bg); border-color: var(--success-color); font-weight: bold; pointer-events: none; }
        .option.incorrect { background-color: var(--red-bg); border-color: var(--danger-color); font-weight: bold; pointer-events: none; }
        #options-container.answered .option:not(.correct):not(.incorrect) { opacity: 0.6; pointer-events: none; }
        #feedback-container { text-align: left; margin-top: 20px; }
        .memory-tip { font-style: italic; color: #6c757d; background: #e9ecef; padding: 15px; border-radius: 6px; margin-top: 15px; border-left: 4px solid var(--primary-color); }
        #next-btn { background-color: var(--success-color); }
        
        #results-screen { text-align: left; }
        .result-item { background: #fdfdff; border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 15px; }
        .unanswered { color: var(--warning-color); font-weight: bold; }
        .user-answer.correct { color: var(--success-color); }
        .user-answer.incorrect { color: var(--danger-color); text-decoration: line-through;}
        .correct-answer { color: var(--success-color); font-weight: bold; }

    </style>
</head>
<body>
    <div id="app-container">
        <button id="translate-btn">English</button>
        <h1 data-lang-key="main_title">T·ªï Ch·ª©c M√°y T√≠nh</h1>
        
        <div class="tab-buttons">
            <button class="tab-link active" data-tab="theory" data-lang-key="tab_theory">üìò L√Ω Thuy·∫øt</button>
            <button class="tab-link" data-tab="practice" data-lang-key="tab_practice">üìù B√†i T·∫≠p</button>
        </div>

        <div id="theory" class="tab-content active">
            </div>

        <div id="practice" class="tab-content hidden">
             <div id="start-screen">
                <h2 data-lang-key="practice_mode">Ch·∫ø ƒë·ªô Luy·ªán t·∫≠p</h2>
                <p data-lang-key="practice_intro">Nh·∫≠p s·ªë c√¢u h·ªèi b·∫°n mu·ªën l√†m (t·ª´ 1 ƒë·∫øn 100), sau ƒë√≥ nh·∫•n B·∫Øt ƒë·∫ßu.</p>
                <div id="custom-question-container">
                    <input type="number" id="question-count-input" min="1" max="100" placeholder="VD: 20">
                    <button id="start-custom-quiz-btn" data-lang-key="start_button">B·∫Øt ƒë·∫ßu</button>
                </div>
            </div>
    
            <div id="quiz-screen" class="hidden">
                <div id="quiz-header">
                    <p id="progress-text"></p>
                    <button id="submit-btn" data-lang-key="submit_button">N·ªôp b√†i</button>
                </div>
                <p id="question-text"></p>
                <div id="options-container"></div>
                <div id="feedback-container"></div>
                <div id="navigation-buttons">
                    <button id="next-btn" class="hidden" data-lang-key="next_button">C√¢u ti·∫øp theo</button>
                </div>
            </div>
    
            <div id="results-screen" class="hidden">
                <h2 data-lang-key="results_title">K·∫øt qu·∫£ b√†i l√†m</h2>
                <p id="score-text"></p>
                <button id="restart-btn" data-lang-key="restart_button">L√†m l·∫°i t·ª´ ƒë·∫ßu</button>
                <div id="results-details"></div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- C∆† S·ªû D·ªÆ LI·ªÜU NG√îN NG·ªÆ ---
            const languageData = {
                vi: {
                    main_title: "T·ªï Ch·ª©c M√°y T√≠nh",
                    tab_theory: "üìò L√Ω Thuy·∫øt",
                    tab_practice: "üìù B√†i T·∫≠p",
                    practice_mode: "Ch·∫ø ƒë·ªô Luy·ªán t·∫≠p",
                    practice_intro: "Nh·∫≠p s·ªë c√¢u h·ªèi b·∫°n mu·ªën l√†m (t·ª´ 1 ƒë·∫øn 100), sau ƒë√≥ nh·∫•n B·∫Øt ƒë·∫ßu.",
                    start_button: "B·∫Øt ƒë·∫ßu",
                    submit_button: "N·ªôp b√†i",
                    next_button: "C√¢u ti·∫øp theo",
                    results_title: "K·∫øt qu·∫£ b√†i l√†m",
                    restart_button: "L√†m l·∫°i t·ª´ ƒë·∫ßu",
                    progress_text: "C√¢u h·ªèi {current} / {total}",
                    score_text: "B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng {score} / {total} c√¢u!",
                    you_chose: "B·∫°n ch·ªçn",
                    correct_answer: "ƒê√°p √°n ƒë√∫ng",
                    unanswered: "Ch∆∞a tr·∫£ l·ªùi",
                    memory_tip: "M·∫πo ghi nh·ªõ",
                    question_placeholder: "VD: 20",
                    alert_invalid_number: "Vui l√≤ng nh·∫≠p m·ªôt s·ªë h·ª£p l·ªá t·ª´ 1 ƒë·∫øn 100.",
                    confirm_submit: "B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën k·∫øt th√∫c b√†i l√†m v√† xem k·∫øt qu·∫£ kh√¥ng?",
                    view_results: "Xem K·∫øt Qu·∫£",
                    theory_html: `
                        <h3>1. Ba H·ªá Th·ªëng Con C·ªßa M√°y T√≠nh</h3>
                        <ul>
                            <li>M·ªôt m√°y t√≠nh g·ªìm 3 h·ªá th·ªëng con: <strong>CPU (Central Processing Unit)</strong>, <strong>Main Memory (B·ªô nh·ªõ ch√≠nh)</strong>, v√† <strong>I/O Subsystem (H·ªá th·ªëng Nh·∫≠p/Xu·∫•t)</strong>.</li>
                        </ul>

                        <h3>2. B·ªô X·ª≠ L√Ω Trung T√¢m (CPU) Chi Ti·∫øt</h3>
                        <ul>
                            <li>L√† "b·ªô n√£o" c·ªßa m√°y t√≠nh, c√≥ 3 th√†nh ph·∫ßn ch√≠nh:
                                <ul>
                                    <li><span class="highlight"><strong>ALU (Arithmetic Logic Unit)</strong></span>: Th·ª±c hi·ªán c√°c ph√©p to√°n s·ªë h·ªçc v√† logic.</li>
                                    <li><span class="highlight"><strong>Control Unit (Kh·ªëi ƒêi·ªÅu khi·ªÉn)</strong></span>: ƒêi·ªÅu ph·ªëi v√† ki·ªÉm so√°t m·ªçi ho·∫°t ƒë·ªông c·ªßa c√°c th√†nh ph·∫ßn kh√°c.</li>
                                    <li><span class="highlight"><strong>Registers (Thanh ghi)</strong></span>: V√πng nh·ªõ t·∫°m th·ªùi t·ªëc ƒë·ªô c·ª±c cao b√™n trong CPU.
                                        <ul>
                                            <li><strong>Program Counter (PC)</strong>: Lu√¥n tr·ªè t·ªõi ƒë·ªãa ch·ªâ c·ªßa l·ªánh <strong>ti·∫øp theo</strong>.</li>
                                            <li><strong>Instruction Register (IR)</strong>: Ch·ª©a l·ªánh <strong>ƒëang ƒë∆∞·ª£c</strong> gi·∫£i m√£ v√† th·ª±c thi.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                        <h3>3. B·ªô Nh·ªõ Ch√≠nh (Main Memory) Chi Ti·∫øt</h3>
                        <ul>
                            <li>G·ªìm nhi·ªÅu √¥ nh·ªõ, m·ªói √¥ c√≥ m·ªôt <strong>ƒë·ªãa ch·ªâ (address)</strong> duy nh·∫•t.</li>
                            <li><strong>RAM (Random Access Memory)</strong>: B·ªô nh·ªõ ƒë·ªçc-ghi, d·ªØ li·ªáu <span class="highlight"><strong>m·∫•t khi ng·∫Øt ƒëi·ªán</strong> (volatile)</span>. G·ªìm SRAM v√† DRAM.</li>
                            <li><strong>ROM (Read-Only Memory)</strong>: B·ªô nh·ªõ ch·ªâ ƒë·ªçc, <span class="highlight"><strong>kh√¥ng m·∫•t d·ªØ li·ªáu</strong> khi ng·∫Øt ƒëi·ªán (non-volatile)</span>.</li>
                            <li><strong>Cache Memory</strong>: B·ªô nh·ªõ ƒë·ªám si√™u nhanh, n·∫±m gi·ªØa CPU v√† RAM ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô.</li>
                            <li><strong>Memory Hierarchy (H·ªá th·ªëng ph√¢n c·∫•p b·ªô nh·ªõ)</strong>: S·∫Øp x·∫øp theo t·ªëc ƒë·ªô gi·∫£m d·∫ßn: <span class="highlight">Registers ‚Üí Cache ‚Üí Main Memory ‚Üí Secondary Storage</span>.</li>
                        </ul>
                        
                        <h3>4. Th·ª±c Thi Ch∆∞∆°ng Tr√¨nh</h3>
                        <ul>
                            <li><strong>Chu k·ª≥ m√°y (Machine Cycle)</strong>: L√† chu tr√¨nh l·∫∑p l·∫°i g·ªìm 3 b∆∞·ªõc c·ªët l√µi:
                                <ol>
                                    <li><span class="highlight"><strong>Fetch</strong></span> ‚Äì N·∫°p l·ªánh t·ª´ b·ªô nh·ªõ.</li>
                                    <li><span class="highlight"><strong>Decode</strong></span> ‚Äì Gi·∫£i m√£ l·ªánh.</li>
                                    <li><span class="highlight"><strong>Execute</strong></span> ‚Äì Th·ª±c thi l·ªánh.</li>
                                </ol>
                            </li>
                            <li><strong>ƒê·ªìng b·ªô CPU v√† I/O</strong>: C√≥ 3 ph∆∞∆°ng ph√°p, trong ƒë√≥ <strong>Direct Memory Access (DMA)</strong> l√† hi·ªáu qu·∫£ nh·∫•t cho vi·ªác truy·ªÅn kh·ªëi d·ªØ li·ªáu l·ªõn v√¨ n√≥ kh√¥ng c·∫ßn s·ª± can thi·ªáp li√™n t·ª•c c·ªßa CPU.</li>
                        </ul>

                        <h3>5. C√°c Ki·∫øn Tr√∫c M√°y T√≠nh</h3>
                        <ul>
                            <li><strong>CISC</strong>: T·∫≠p l·ªánh l·ªõn v√† ph·ª©c t·∫°p.</li>
                            <li><strong>RISC</strong>: T·∫≠p l·ªánh nh·ªè, ƒë∆°n gi·∫£n, gi√∫p th·ª±c thi nhanh h∆°n.</li>
                            <li><strong>Pipelining</strong>: Cho ph√©p x·ª≠ l√Ω g·ªëi ƒë·∫ßu nhi·ªÅu l·ªánh ƒë·ªÉ tƒÉng <strong>th√¥ng l∆∞·ª£ng (throughput)</strong>.</li>
                            <li><strong>Parallel Processing</strong>: S·ª≠ d·ª•ng nhi·ªÅu ƒë∆°n v·ªã x·ª≠ l√Ω ƒë·ªìng th·ªùi.</li>
                        </ul>
                        
                        <div class="highlight-box">
                            <h3>üí° ƒêi·ªÉm C·ªët L√µi C·∫ßn Nh·ªõ</h3>
                            <ul>
                                <li>M√°y t√≠nh g·ªìm 3 ph·∫ßn: <strong>CPU, Memory, I/O.</strong></li>
                                <li>CPU g·ªìm: <strong>ALU, Control Unit, Registers.</strong></li>
                                <li><strong>RAM</strong> th√¨ m·∫•t ƒëi·ªán l√† m·∫•t d·ªØ li·ªáu, <strong>ROM</strong> th√¨ kh√¥ng.</li>
                                <li>Th·ª© t·ª± t·ªëc ƒë·ªô: <strong>Registers > Cache > RAM.</strong></li>
                                <li>Chu tr√¨nh b·∫•t bi·∫øn c·ªßa CPU l√† <strong>Fetch ‚Üí Decode ‚Üí Execute.</strong></li>
                                <li><strong>DMA</strong> l√† ph∆∞∆°ng ph√°p truy·ªÅn d·ªØ li·ªáu I/O hi·ªáu qu·∫£ nh·∫•t.</li>
                                <li><strong>Pipelining</strong> v√† <strong>Parallel Processing</strong> l√† hai k·ªπ thu·∫≠t ch√≠nh ƒë·ªÉ tƒÉng hi·ªáu nƒÉng.</li>
                            </ul>
                        </div>
                    `
                },
                en: {
                    main_title: "Computer Organization",
                    tab_theory: "üìò Theory",
                    tab_practice: "üìù Practice",
                    practice_mode: "Practice Mode",
                    practice_intro: "Enter the number of questions you want to do (from 1 to 100), then press Start.",
                    start_button: "Start",
                    submit_button: "Submit",
                    next_button: "Next Question",
                    results_title: "Quiz Results",
                    restart_button: "Restart",
                    progress_text: "Question {current} / {total}",
                    score_text: "You answered {score} / {total} questions correctly!",
                    you_chose: "You chose",
                    correct_answer: "Correct Answer",
                    unanswered: "Unanswered",
                    memory_tip: "Memory Tip",
                    question_placeholder: "e.g., 20",
                    alert_invalid_number: "Please enter a valid number between 1 and 100.",
                    confirm_submit: "Are you sure you want to end the quiz and see your results?",
                    view_results: "View Results",
                    theory_html: `
                        <h3>1. The Three Subsystems of a Computer</h3>
                        <ul>
                            <li>A computer consists of 3 subsystems: <strong>CPU (Central Processing Unit)</strong>, <strong>Main Memory</strong>, and <strong>I/O Subsystem</strong>.</li>
                        </ul>

                        <h3>2. Central Processing Unit (CPU) in Detail</h3>
                        <ul>
                            <li>Known as the "brain" of the computer, it has 3 main components:
                                <ul>
                                    <li><span class="highlight"><strong>ALU (Arithmetic Logic Unit)</strong></span>: Performs arithmetic and logical operations.</li>
                                    <li><span class="highlight"><strong>Control Unit</strong></span>: Directs and coordinates the activities of all other components.</li>
                                    <li><span class="highlight"><strong>Registers</strong></span>: High-speed temporary storage areas within the CPU.
                                        <ul>
                                            <li><strong>Program Counter (PC)</strong>: Always points to the address of the <strong>next</strong> instruction.</li>
                                            <li><strong>Instruction Register (IR)</strong>: Holds the instruction <strong>currently</strong> being decoded and executed.</li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                        <h3>3. Main Memory in Detail</h3>
                        <ul>
                            <li>Comprises many memory locations, each with a unique <strong>address</strong>.</li>
                            <li><strong>RAM (Random Access Memory)</strong>: Read-write memory where data is <span class="highlight"><strong>lost when power is off</strong> (volatile)</span>. Includes SRAM and DRAM.</li>
                            <li><strong>ROM (Read-Only Memory)</strong>: Read-only memory where data is <span class="highlight"><strong>not lost when power is off</strong> (non-volatile)</span>.</li>
                            <li><strong>Cache Memory</strong>: Super-fast buffer memory between the CPU and RAM to speed up access.</li>
                            <li><strong>Memory Hierarchy</strong>: Arranged by decreasing speed: <span class="highlight">Registers ‚Üí Cache ‚Üí Main Memory ‚Üí Secondary Storage</span>.</li>
                        </ul>
                        
                        <h3>4. Program Execution</h3>
                        <ul>
                            <li><strong>Machine Cycle</strong>: A repeating cycle with 3 core steps:
                                <ol>
                                    <li><span class="highlight"><strong>Fetch</strong></span> ‚Äì Load an instruction from memory.</li>
                                    <li><span class="highlight"><strong>Decode</strong></span> ‚Äì Interpret the instruction.</li>
                                    <li><span class="highlight"><strong>Execute</strong></span> ‚Äì Carry out the instruction.</li>
                                </ol>
                            </li>
                            <li><strong>CPU and I/O Synchronization</strong>: 3 main methods, with <strong>Direct Memory Access (DMA)</strong> being the most efficient for large data block transfers as it does not require constant CPU intervention.</li>
                        </ul>

                        <h3>5. Computer Architectures</h3>
                        <ul>
                            <li><strong>CISC</strong>: Large and complex instruction set.</li>
                            <li><strong>RISC</strong>: Small, simple instruction set, which helps in faster execution.</li>
                            <li><strong>Pipelining</strong>: Allows for the overlapping execution of multiple instructions to increase <strong>throughput</strong>.</li>
                            <li><strong>Parallel Processing</strong>: Uses multiple processing units to execute work simultaneously.</li>
                        </ul>
                        
                        <div class="highlight-box">
                            <h3>üí° Core Points to Remember</h3>
                            <ul>
                                <li>A computer has 3 parts: <strong>CPU, Memory, I/O.</strong></li>
                                <li>The CPU consists of: <strong>ALU, Control Unit, Registers.</strong></li>
                                <li><strong>RAM</strong> is volatile (loses data on power off), <strong>ROM</strong> is not.</li>
                                <li>Speed hierarchy: <strong>Registers > Cache > RAM.</strong></li>
                                <li>The CPU's fundamental cycle is <strong>Fetch ‚Üí Decode ‚Üí Execute.</strong></li>
                                <li><strong>DMA</strong> is the most efficient method for large I/O data transfers.</li>
                                <li><strong>Pipelining</strong> and <strong>Parallel Processing</strong> are key techniques for performance enhancement.</li>
                            </ul>
                        </div>
                    `
                }
            };

            const questionBank = [
                // Ng√¢n h√†ng c√¢u h·ªèi ƒë·∫ßy ƒë·ªß 100 c√¢u s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y.
                // ƒê·ªÉ ti·∫øt ki·ªám kh√¥ng gian, ch·ªâ hi·ªÉn th·ªã m·ªôt v√†i c√¢u l√†m m·∫´u.
                { question: {vi:"Ba h·ªá th·ªëng con ch√≠nh t·∫°o n√™n m·ªôt m√°y t√≠nh ƒë·ªôc l·∫≠p l√† g√¨?", en:"What are the three main subsystems that make up a stand-alone computer?"}, options: {vi:["CPU, RAM v√† ·ªî c·ª©ng", "ƒê∆°n v·ªã x·ª≠ l√Ω trung t√¢m, B·ªô nh·ªõ ch√≠nh v√† H·ªá th·ªëng con Nh·∫≠p/Xu·∫•t", "B√†n ph√≠m, M√†n h√¨nh v√† Chu·ªôt", "ALU, ƒê∆°n v·ªã ƒëi·ªÅu khi·ªÉn v√† Thanh ghi"], en:["CPU, RAM, and Hard Drive", "Central Processing Unit, Main Memory, and Input/Output Subsystem", "Keyboard, Monitor, and Mouse", "ALU, Control Unit, and Registers"]}, answer: 1, tip: {vi:"H√£y nh·ªõ 3 th√†nh ph·∫ßn c·ªët l√µi c·ªßa m√°y t√≠nh: B·ªô n√£o (CPU), N∆°i l√†m vi·ªác (B·ªô nh·ªõ ch√≠nh), v√† C·ªïng giao ti·∫øp (I/O).", en:"Remember the three core components: the brain (CPU), the workspace (Main Memory), and the communication ports (I/O)."} },
                { question: {vi:"Th√†nh ph·∫ßn n√†o c·ªßa CPU th·ª±c hi·ªán c√°c ph√©p to√°n s·ªë h·ªçc, logic v√† d·ªãch chuy·ªÉn tr√™n d·ªØ li·ªáu?", en:"Which component of the CPU performs arithmetic, logical, and shift operations on data?"}, options: {vi:["ƒê∆°n v·ªã ƒëi·ªÅu khi·ªÉn (Control Unit)", "Thanh ghi (Registers)", "ƒê∆°n v·ªã logic s·ªë h·ªçc (ALU)", "Bus h·ªá th·ªëng"], en:["Control Unit", "Registers", "Arithmetic Logic Unit (ALU)", "System Bus"]}, answer: 2, tip: {vi:"'Arithmetic Logic Unit' (ALU) ch√≠nh l√† ƒë∆°n v·ªã th·ª±c hi·ªán c√°c ph√©p to√°n s·ªë h·ªçc v√† logic.", en:"The name says it all: 'Arithmetic Logic Unit' (ALU) performs arithmetic and logic operations."} },
                { question: {vi:"Ba ph·∫ßn ch√≠nh c·ªßa CPU trong h·∫ßu h·∫øt c√°c ki·∫øn tr√∫c l√† g√¨?", en:"What are the three main parts of a CPU in most architectures?"}, options: {vi:["ALU, Bus v√† B·ªô nh·ªõ ch√≠nh", "ƒê∆°n v·ªã logic s·ªë h·ªçc, ƒê∆°n v·ªã ƒëi·ªÅu khi·ªÉn v√† m·ªôt t·∫≠p h·ª£p c√°c thanh ghi", "B·ªô nh·ªõ cache, ROM v√† RAM", "Thi·∫øt b·ªã nh·∫≠p, thi·∫øt b·ªã xu·∫•t v√† thi·∫øt b·ªã l∆∞u tr·ªØ"], en:["ALU, Bus, and Main Memory", "Arithmetic Logic Unit, Control Unit, and a set of Registers", "Cache, ROM, and RAM", "Input devices, output devices, and storage devices"]}, answer: 1, tip: {vi:"CPU bao g·ªìm 3 ph·∫ßn ch√≠nh: ALU ƒë·ªÉ t√≠nh to√°n, Control Unit ƒë·ªÉ ƒëi·ªÅu khi·ªÉn v√† Registers ƒë·ªÉ l∆∞u tr·ªØ t·∫°m th·ªùi.", en:"A CPU consists of 3 main parts: the ALU for calculations, the Control Unit for directing operations, and Registers for temporary storage."} }
            ];
            // Th√™m c√°c c√¢u h·ªèi c√≤n l·∫°i v√†o ƒë√¢y...
            
            let currentLanguage = 'vi';
            let currentQuestions = [];
            let currentQuestionIndex = 0;
            let userAnswers = [];

            const theoryContainer = document.getElementById('theory');
            const allLangElements = document.querySelectorAll('[data-lang-key]');

            function updateUIText() {
                const lang = languageData[currentLanguage];
                
                // C·∫≠p nh·∫≠t c√°c element tƒ©nh
                allLangElements.forEach(el => {
                    const key = el.dataset.langKey;
                    if (lang[key]) {
                        el.textContent = lang[key];
                    }
                });
                
                // C·∫≠p nh·∫≠t placeholder
                document.getElementById('question-count-input').placeholder = lang.question_placeholder;

                // C·∫≠p nh·∫≠t n·ªôi dung l√Ω thuy·∫øt
                theoryContainer.innerHTML = lang.theory_html;
                
                // N·∫øu ƒëang trong quiz, render l·∫°i c√¢u h·ªèi hi·ªán t·∫°i
                if (!quizScreen.classList.contains('hidden')) {
                    displayQuestion(true); // true ƒë·ªÉ ch·ªâ c·∫≠p nh·∫≠t text, kh√¥ng reset state
                }
                 // C·∫≠p nh·∫≠t trang k·∫øt qu·∫£ n·∫øu ƒëang hi·ªÉn th·ªã
                if (!resultsScreen.classList.contains('hidden')) {
                    showResults(true); // true ƒë·ªÉ ch·ªâ c·∫≠p nh·∫≠t text
                }
            }
            
            // --- Logic cho TAB ---
            const tabLinks = document.querySelectorAll('.tab-link');
            const tabContents = document.querySelectorAll('.tab-content');
            tabLinks.forEach(link => {
                link.addEventListener('click', () => {
                    const tabId = link.dataset.tab;
                    tabLinks.forEach(item => item.classList.remove('active'));
                    tabContents.forEach(item => item.classList.add('hidden'));
                    link.classList.add('active');
                    document.getElementById(tabId).classList.remove('hidden');
                });
            });

            // --- Logic cho Quiz ---
            const startScreen = document.getElementById('start-screen');
            const quizScreen = document.getElementById('quiz-screen');
            const resultsScreen = document.getElementById('results-screen');
            const startCustomBtn = document.getElementById('start-custom-quiz-btn');
            const questionCountInput = document.getElementById('question-count-input');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            const restartBtn = document.getElementById('restart-btn');
            const progressText = document.getElementById('progress-text');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const feedbackContainer = document.getElementById('feedback-container');
            const scoreText = document.getElementById('score-text');
            const resultsDetails = document.getElementById('results-details');

            function shuffleArray(array) { /* ... */ }
            function startQuiz(questionCount) { /* ... */ }
            function displayQuestion(isLanguageUpdate = false) { /* ... */ }
            function selectOption(selectedIndex) { /* ... */ }
            function showResults(isLanguageUpdate = false) { /* ... */ }
            
            // --- N√∫t D·ªãch ---
            const translateBtn = document.getElementById('translate-btn');
            translateBtn.addEventListener('click', () => {
                currentLanguage = (currentLanguage === 'vi') ? 'en' : 'vi';
                translateBtn.textContent = (currentLanguage === 'vi') ? 'English' : 'Ti·∫øng Vi·ªát';
                document.documentElement.lang = currentLanguage;
                updateUIText();
            });

            // Kh·ªüi t·∫°o text l·∫ßn ƒë·∫ßu
            updateUIText();
        });
    </script>
</body>
</html>
