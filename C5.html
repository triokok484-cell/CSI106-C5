<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√în T·∫≠p L√Ω Thuy·∫øt: Computer Organization</title>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        #app-container {
            background-color: white;
            padding: 2em;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            text-align: center;
        }

        h1, h2 {
            color: #0056b3;
        }

        .hidden {
            display: none;
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
        }

        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        #quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        #question-container {
            text-align: left;
            margin-bottom: 20px;
        }

        #question-text {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        #options-container .option {
            display: block;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        #options-container .option:hover {
            background-color: #e9ecef;
        }

        #options-container .option.selected {
            background-color: #cce5ff;
            border-color: #007bff;
        }

        #navigation-buttons {
            margin-top: 20px;
        }

        #results-screen {
            text-align: left;
        }

        #score-text {
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
        }

        .result-item {
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .result-item p {
            margin: 5px 0;
        }

        .result-question {
            font-weight: bold;
        }

        .user-answer.correct {
            color: #28a745;
        }

        .user-answer.incorrect {
            color: #dc3545;
            text-decoration: line-through;
        }

        .correct-answer {
            color: #28a745;
            font-weight: bold;
        }

        .memory-tip {
            font-style: italic;
            color: #6c757d;
            background: #eef;
            padding: 8px;
            border-radius: 4px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div id="app-container">
        <h1>√în T·∫≠p Chapter 5: Computer Organization</h1>

        <div id="start-screen">
            <h2>Ch·∫ø ƒë·ªô: Ki·ªÉm Tra (Test Mode)</h2>
            <p>B·∫°n s·∫Ω tr·∫£ l·ªùi 100 c√¢u h·ªèi. K·∫øt qu·∫£ ch·ªâ ƒë∆∞·ª£c hi·ªÉn th·ªã sau khi b·∫°n n·ªôp b√†i.</p>
            <button id="start-btn">B·∫Øt ƒë·∫ßu l√†m b√†i</button>
        </div>

        <div id="quiz-screen" class="hidden">
            <div id="quiz-header">
                <p id="progress-text">C√¢u h·ªèi 1 tr√™n 100</p>
                <button id="submit-btn">N·ªôp b√†i</button>
            </div>
            <div id="question-container">
                <p id="question-text"></p>
                <div id="options-container"></div>
            </div>
            <div id="navigation-buttons">
                <button id="prev-btn">C√¢u tr∆∞·ªõc</button>
                <button id="next-btn">C√¢u sau</button>
            </div>
        </div>

        <div id="results-screen" class="hidden">
            <h2>K·∫øt qu·∫£ b√†i l√†m</h2>
            <p id="score-text"></p>
            <button id="restart-btn">L√†m l·∫°i b√†i kh√°c</button>
            <div id="results-details"></div>
        </div>
    </div>

    <div id="google_translate_element" style="position: fixed; bottom: 10px; right: 10px;"></div>

    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'vi', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        }
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Ng√¢n h√†ng c√¢u h·ªèi
            const questionBank = [
                {
                    question: "Ba h·ªá th·ªëng con (subsystems) ch√≠nh c·∫•u t·∫°o n√™n m·ªôt m√°y t√≠nh l√† g√¨?",
                    options: ["CPU, B√†n ph√≠m, M√†n h√¨nh", "CPU, B·ªô nh·ªõ ch√≠nh, H·ªá th·ªëng I/O", "ALU, Control Unit, RAM", "·ªî c·ª©ng, RAM, Chu·ªôt"],
                    answer: 1,
                    tip: "H√£y nh·ªõ 3 th√†nh ph·∫ßn c·ªët l√µi: B·ªô n√£o (CPU), N∆°i l√†m vi·ªác (B·ªô nh·ªõ ch√≠nh), v√† C·ªïng giao ti·∫øp (I/O)."
                },
                {
                    question: "Th√†nh ph·∫ßn n√†o trong CPU ch·ªãu tr√°ch nhi·ªám th·ª±c hi·ªán c√°c ph√©p to√°n s·ªë h·ªçc v√† logic?",
                    options: ["Control Unit", "Registers", "ALU (Arithmetic Logic Unit)", "Program Counter"],
                    answer: 2,
                    tip: "'Arithmetic' l√† s·ªë h·ªçc, 'Logic' l√† logic. ALU ch√≠nh l√† vi·∫øt t·∫Øt c·ªßa hai ch·ª©c nƒÉng n√†y."
                },
                {
                    question: "Thanh ghi (Register) n√†o trong CPU gi·ªØ ƒë·ªãa ch·ªâ c·ªßa l·ªánh k·∫ø ti·∫øp s·∫Ω ƒë∆∞·ª£c th·ª±c thi?",
                    options: ["Instruction Register (IR)", "Data Register", "Program Counter (PC)", "Accumulator"],
                    answer: 2,
                    tip: "'Program Counter' gi·ªëng nh∆∞ m·ªôt ng∆∞·ªùi 'ƒë·∫øm' xem ch∆∞∆°ng tr√¨nh ƒë√£ ch·∫°y ƒë·∫øn d√≤ng l·ªánh n√†o."
                },
                {
                    question: "ƒê·∫∑c ƒëi·ªÉm n√†o ph√¢n bi·ªát RAM v·ªõi ROM?",
                    options: ["RAM l√† b·ªô nh·ªõ kh√¥ng kh·∫£ bi·∫øn (non-volatile)", "RAM c√≥ th·ªÉ ƒë·ªçc v√† ghi d·ªØ li·ªáu, c√≤n ROM ch·ªß y·∫øu ch·ªâ ƒë·ªÉ ƒë·ªçc", "RAM ch·∫≠m h∆°n ROM", "ROM ƒë∆∞·ª£c d√πng l√†m b·ªô nh·ªõ ch√≠nh cho c√°c ·ª©ng d·ª•ng"],
                    answer: 1,
                    tip: "RAM (Random Access Memory) l√† b·ªô nh·ªõ truy c·∫≠p ng·∫´u nhi√™n, cho ph√©p c·∫£ ƒë·ªçc v√† ghi. ROM (Read-Only Memory) l√† b·ªô nh·ªõ ch·ªâ ƒë·ªçc."
                },
                {
                    question: "M·ª•c ƒë√≠ch ch√≠nh c·ªßa b·ªô nh·ªõ ƒë·ªám (Cache Memory) l√† g√¨?",
                    options: ["L∆∞u tr·ªØ vƒ©nh vi·ªÖn h·ªá ƒëi·ªÅu h√†nh", "TƒÉng t·ªëc ƒë·ªô truy c·∫≠p ƒë·∫øn d·ªØ li·ªáu th∆∞·ªùng d√πng t·ª´ b·ªô nh·ªõ ch√≠nh", "Thay th·∫ø ho√†n to√†n b·ªô nh·ªõ RAM", "K·∫øt n·ªëi c√°c thi·∫øt b·ªã ngo·∫°i vi"],
                    answer: 1,
                    tip: "Cache gi·ªëng nh∆∞ m·ªôt ngƒÉn t·ªß nh·ªè ch·ª©a nh·ªØng m√≥n ƒë·ªì b·∫°n hay d√πng nh·∫•t ƒë·ªÉ l·∫•y cho nhanh, thay v√¨ ph·∫£i v√†o kho l·ªõn (RAM) ƒë·ªÉ t√¨m."
                },
                {
                    question: "H·ªá th·ªëng Bus trong m√°y t√≠nh bao g·ªìm ba lo·∫°i ch√≠nh n√†o?",
                    options: ["USB, FireWire, HDMI", "Serial, Parallel, Optical", "Data Bus, Address Bus, Control Bus", "Internal, External, System"],
                    answer: 2,
                    tip: "H√£y t∆∞·ªüng t∆∞·ª£ng m·ªôt con ƒë∆∞·ªùng 3 l√†n: m·ªôt l√†n ch·ªü ƒë·ªãa ch·ªâ (Address), m·ªôt l√†n ch·ªü d·ªØ li·ªáu (Data), v√† m·ªôt l√†n cho t√≠n hi·ªáu ƒë√®n giao th√¥ng (Control)."
                },
                {
                    question: "Chu k·ª≥ m√°y (Machine Cycle) c·ªßa CPU bao g·ªìm ba pha c∆° b·∫£n n√†o theo ƒë√∫ng th·ª© t·ª±?",
                    options: ["Decode, Fetch, Execute", "Fetch, Execute, Decode", "Fetch, Decode, Execute", "Execute, Fetch, Decode"],
                    answer: 2,
                    tip: "Quy tr√¨nh h·ª£p l√Ω: L·∫•y l·ªánh (Fetch), Hi·ªÉu l·ªánh (Decode), r·ªìi m·ªõi l√†m theo l·ªánh (Execute)."
                },
                {
                    question: "Ki·∫øn tr√∫c m√°y t√≠nh n√†o s·ª≠ d·ª•ng m·ªôt t·∫≠p l·ªánh l·ªõn v√† ph·ª©c t·∫°p, bao g·ªìm c·∫£ nh·ªØng l·ªánh c√≥ th·ªÉ th·ª±c hi·ªán c√°c t√°c v·ª• ph·ª©c t·∫°p?",
                    options: ["RISC (Reduced Instruction Set Computer)", "MIMD", "CISC (Complex Instruction Set Computer)", "SIMD"],
                    answer: 2,
                    tip: "C trong CISC l√† vi·∫øt t·∫Øt c·ªßa 'Complex' (ph·ª©c t·∫°p)."
                },
                {
                    question: "K·ªπ thu·∫≠t n√†o cho ph√©p CPU x·ª≠ l√Ω g·ªëi ƒë·∫ßu c√°c pha c·ªßa nhi·ªÅu l·ªánh kh√°c nhau c√πng m·ªôt l√∫c ƒë·ªÉ tƒÉng hi·ªáu su·∫•t?",
                    options: ["Parallel Processing", "Pipelining", "DMA", "Multitasking"],
                    answer: 1,
                    tip: "Pipelining gi·ªëng nh∆∞ m·ªôt d√¢y chuy·ªÅn l·∫Øp r√°p, m·ªói c√¥ng ƒëo·∫°n x·ª≠ l√Ω m·ªôt s·∫£n ph·∫©m kh√°c nhau, gi√∫p tƒÉng t·ªïng s·∫£n l∆∞·ª£ng."
                },
                {
                    question: "Ph∆∞∆°ng ph√°p n√†o cho ph√©p m·ªôt thi·∫øt b·ªã I/O t·ªëc ƒë·ªô cao truy·ªÅn d·ªØ li·ªáu tr·ª±c ti·∫øp v·ªõi b·ªô nh·ªõ ch√≠nh m√† kh√¥ng c·∫ßn s·ª± can thi·ªáp c·ªßa CPU?",
                    options: ["Programmed I/O", "Interrupt-driven I/O", "DMA (Direct Memory Access)", "Memory-mapped I/O"],
                    answer: 2,
                    tip: "DMA l√† 'truy c·∫≠p b·ªô nh·ªõ tr·ª±c ti·∫øp', nghƒ©a l√† ƒëi th·∫≥ng ƒë·∫øn b·ªô nh·ªõ m√† kh√¥ng c·∫ßn qua 'trung gian' CPU."
                },
                {
                    question: "Lo·∫°i RAM n√†o c·∫ßn ƒë∆∞·ª£c l√†m t∆∞∆°i (refresh) ƒë·ªãnh k·ª≥ ƒë·ªÉ kh√¥ng m·∫•t d·ªØ li·ªáu?",
                    options: ["SRAM (Static RAM)", "DRAM (Dynamic RAM)", "ROM", "EPROM"],
                    answer: 1,
                    tip: "D trong DRAM l√† 'Dynamic' (ƒë·ªông), n√≥ c·∫ßn ƒë∆∞·ª£c n·∫°p l·∫°i nƒÉng l∆∞·ª£ng li√™n t·ª•c, gi·ªëng nh∆∞ ph·∫£i li√™n t·ª•c 'ho·∫°t ƒë·ªông' ƒë·ªÉ gi·ªØ d·ªØ li·ªáu."
                },
                {
                    question: "ƒê∆°n v·ªã nh·ªè nh·∫•t c√≥ th·ªÉ truy c·∫≠p tr√™n m·ªôt ƒëƒ©a t·ª´ l√† g√¨?",
                    options: ["Track", "Cylinder", "Sector", "Block"],
                    answer: 2,
                    tip: "H√£y h√¨nh dung m·ªôt c√°i b√°nh pizza: Track l√† v√≤ng tr√≤n ƒë·ªìng t√¢m, v√† Sector l√† t·ª´ng mi·∫øng b√°nh nh·ªè."
                },
                {
                    question: "Chu·∫©n k·∫øt n·ªëi n√†o th∆∞·ªùng ƒë∆∞·ª£c m√¥ t·∫£ l√† 'hot-swappable' v√† c√≥ th·ªÉ k·∫øt n·ªëi t·ªõi 127 thi·∫øt b·ªã theo c·∫•u tr√∫c c√¢y?",
                    options: ["SCSI", "FireWire", "USB", "HDMI"],
                    answer: 2,
                    tip: "USB (Universal Serial Bus) n·ªïi ti·∫øng v·ªõi kh·∫£ nƒÉng c·∫Øm n√≥ng (hot-swappable) v√† k·∫øt n·ªëi nhi·ªÅu thi·∫øt b·ªã."
                },
                {
                    question: "Trong ph√¢n lo·∫°i c·ªßa Flynn, ki·∫øn tr√∫c n√†o c√≥ m·ªôt lu·ªìng l·ªánh v√† nhi·ªÅu lu·ªìng d·ªØ li·ªáu, ph√π h·ª£p cho x·ª≠ l√Ω m·∫£ng?",
                    options: ["SISD", "SIMD", "MISD", "MIMD"],
                    answer: 1,
                    tip: "SIMD: Single Instruction, Multiple Data. M·ªôt l·ªánh duy nh·∫•t ƒë∆∞·ª£c √°p d·ª•ng cho nhi·ªÅu d·ªØ li·ªáu c√πng l√∫c."
                },
                {
                    question: "Ph∆∞∆°ng ph√°p ƒë·ªãa ch·ªâ h√≥a I/O n√†o coi c√°c thanh ghi c·ªßa b·ªô ƒëi·ªÅu khi·ªÉn I/O nh∆∞ l√† c√°c √¥ nh·ªõ trong b·ªô nh·ªõ ch√≠nh?",
                    options: ["Isolated I/O", "Programmed I/O", "Memory-mapped I/O", "DMA"],
                    answer: 2,
                    tip: "'Memory-mapped' c√≥ nghƒ©a l√† '√°nh x·∫° v√†o b·ªô nh·ªõ', coi thi·∫øt b·ªã I/O nh∆∞ m·ªôt ph·∫ßn c·ªßa kh√¥ng gian ƒë·ªãa ch·ªâ b·ªô nh·ªõ."
                },
                // C√°c c√¢u h·ªèi gi·∫£ ƒë·ªÉ ƒë·ªß 100 c√¢u
            ];

            while (questionBank.length < 100) {
                const index = questionBank.length + 1;
                questionBank.push({
                    question: `ƒê√¢y l√† c√¢u h·ªèi v√≠ d·ª• s·ªë ${index}. Vui l√≤ng thay th·∫ø b·∫±ng n·ªôi dung th·∫≠t.`,
                    options: [`ƒê√°p √°n A c·ªßa c√¢u ${index}`, `ƒê√°p √°n B c·ªßa c√¢u ${index}`, `ƒê√°p √°n C c·ªßa c√¢u ${index}`, `ƒê√°p √°n D c·ªßa c√¢u ${index}`],
                    answer: Math.floor(Math.random() * 4),
                    tip: `ƒê√¢y l√† m·∫πo ghi nh·ªõ cho c√¢u h·ªèi ${index}.`
                });
            }


            const startScreen = document.getElementById('start-screen');
            const quizScreen = document.getElementById('quiz-screen');
            const resultsScreen = document.getElementById('results-screen');

            const startBtn = document.getElementById('start-btn');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            const restartBtn = document.getElementById('restart-btn');

            const progressText = document.getElementById('progress-text');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const scoreText = document.getElementById('score-text');
            const resultsDetails = document.getElementById('results-details');

            let currentQuestions = [];
            let currentQuestionIndex = 0;
            let userAnswers = [];

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            function startQuiz() {
                shuffleArray(questionBank);
                currentQuestions = questionBank.slice(0, 100);
                currentQuestionIndex = 0;
                userAnswers = new Array(currentQuestions.length).fill(null);

                startScreen.classList.add('hidden');
                resultsScreen.classList.add('hidden');
                quizScreen.classList.remove('hidden');

                displayQuestion();
            }

            function displayQuestion() {
                const question = currentQuestions[currentQuestionIndex];
                questionText.textContent = question.question;
                progressText.textContent = `C√¢u h·ªèi ${currentQuestionIndex + 1} tr√™n ${currentQuestions.length}`;
                optionsContainer.innerHTML = '';

                question.options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.classList.add('option');
                    optionElement.textContent = option;
                    optionElement.dataset.index = index;
                    if (userAnswers[currentQuestionIndex] === index) {
                        optionElement.classList.add('selected');
                    }
                    optionElement.addEventListener('click', () => selectOption(index));
                    optionsContainer.appendChild(optionElement);
                });

                updateNavigation();
            }

            function selectOption(index) {
                userAnswers[currentQuestionIndex] = index;
                const options = optionsContainer.querySelectorAll('.option');
                options.forEach(opt => opt.classList.remove('selected'));
                options[index].classList.add('selected');
            }

            function updateNavigation() {
                prevBtn.disabled = currentQuestionIndex === 0;
                nextBtn.disabled = currentQuestionIndex === currentQuestions.length - 1;
            }

            function changeQuestion(direction) {
                currentQuestionIndex += direction;
                displayQuestion();
            }

            function showResults() {
                quizScreen.classList.add('hidden');
                resultsScreen.classList.remove('hidden');

                let score = 0;
                resultsDetails.innerHTML = '';

                currentQuestions.forEach((question, index) => {
                    const userAnswerIndex = userAnswers[index];
                    const isCorrect = userAnswerIndex === question.answer;
                    if (isCorrect) {
                        score++;
                    }

                    const resultItem = document.createElement('div');
                    resultItem.classList.add('result-item');

                    let userAnswerText = "Ch∆∞a tr·∫£ l·ªùi";
                    let userAnswerClass = "incorrect";

                    if (userAnswerIndex !== null) {
                        userAnswerText = question.options[userAnswerIndex];
                        userAnswerClass = isCorrect ? "correct" : "incorrect";
                    }
                    
                    resultItem.innerHTML = `
                        <p class="result-question">${index + 1}. ${question.question}</p>
                        <p class="user-answer ${userAnswerClass}">C√¢u tr·∫£ l·ªùi c·ªßa b·∫°n: ${userAnswerText}</p>
                        ${!isCorrect ? `<p class="correct-answer">ƒê√°p √°n ƒë√∫ng: ${question.options[question.answer]}</p>` : ''}
                        <p class="memory-tip">üí° M·∫πo ghi nh·ªõ: ${question.tip}</p>
                    `;

                    resultsDetails.appendChild(resultItem);
                });

                scoreText.textContent = `B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng ${score} tr√™n ${currentQuestions.length} c√¢u!`;
            }
            
            startBtn.addEventListener('click', startQuiz);
            prevBtn.addEventListener('click', () => changeQuestion(-1));
            nextBtn.addEventListener('click', () => changeQuestion(1));
            submitBtn.addEventListener('click', () => {
                if (confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën n·ªôp b√†i kh√¥ng?')) {
                    showResults();
                }
            });
            restartBtn.addEventListener('click', startQuiz);
        });
    </script>

</body>
</html>
